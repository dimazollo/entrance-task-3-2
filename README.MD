# Задание 3 — реализовать алгоритм

В этом репозитории находится решение тестового задания по JavaScript для [14-й Школы разработки интерфейсов](https://academy.yandex.ru/events/frontend/shri_msk-2018-2) (осень 2018, Москва, Санкт-Петербург, Симферополь).

## Запуск

Функция, которая реализует алгоритм решения, находится в 

```src/smartHome.js```

Она принимает на вход путь к файлу с входными данными и файлу для вывода. 

## Комментарии

Данная задача является задачей оптимизации.

Решение основано на использовании жадного алгоритма, поэтому оно не гарантирует оптимальности размещения 
устройств в расписании на всех наборах данных. Кроме того, наверняка существуют наборы данных,
при которых представленный алгоритм не сумеет найти решения по размещению устройств в расписании с учётом 
ограничений, когда такое решение на самом деле будет существовать. (Наилучшее решение может быть найдено
путём полного перебора всех возможных решений, однако это займёт продолжительное время)

"Жадность" в алгоритме представлена в двух вариантах - сначала по количеству вариантов размещения, затем по 
потребляемой за сутки электроэнергии.  
1. В расписание добавляются все устройства, которые имеют единственный вариант размещения. (Это устройства, 
которые работают целые сутки, целую ночь или целый день)
1. В расписание добавляется самый большой потребитель за сутки из оставшихся устройств (Этот параметр рассчитывается 
как мощность устройсва помжноженная на время работы).
1. Предыдущий шаг повторяется до тех пор, пока в наборе ещё не размещенных устройств не станет пусто.

Описанный алгоритм имеет сложность O(n^2) от количества устройств.  

### Свободные замечания
##### Сходство задачи

Представленная задача похожа на модификацию "задачи о ранце".
Есть 24 рюкзака. Все рюкзаки имеют одинаковую вместимость. У каждого рюкзака есть свой коэффициент стоимости для 
помещенных в него предметов. Рюкзаки разложены кольцом. Некоторые вещи должны быть помещены только в соседние рюкзаки.
Необходимо добиться наименьшей суммарной стоимости разложенных вещей.

Также задача похожа на задачу линейного программирования, но опять таки с очень хитрыми ограничениями.
Допустим _w_ - мощность электроприбора, 
         _t_ - время работы прибора,
         _r_ - тариф, который показывае стоимость киловатта за час. Количество приборов - N, количество тарифов - M (по тарифу на каждый час).

Пусть _S_ - это знак суммы. Тогда целевая функция запишется как сумма произведений wi на ti и на сумму тарифов rj за 
выбранный промежуток времени.    
 
_S_ (_wi_*_ti_ * _S_(_rj_)) --> _min_

Для меня, однако, пока неясно, как математически записать ограничения на необходимость "соседтва" тарифов во внутренней
сумме. 

##### Визуализация задачи
 
Можно визуализировать задачу следующим образом:  
Можно представить, что есть 24 аквариума. Они имеют одинаковую ширину (время - 1 час) и объем (равный максимальной 
мощности). Длина аквариума - это тариф. Чем выше (дороже) тариф, тем меньше длина (чтобы аквариум быстрее заполнялся 
по высоте) И высота аквариума - это конечная стоимость работы приборов за этот час.
 